{"ast":null,"code":"import { HttpHeaders } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = function () {\n  return [\"/restaurantsignup\"];\n};\nexport class RestaurantloginComponent {\n  constructor(http, router, authService) {\n    this.http = http;\n    this.router = router;\n    this.authService = authService;\n    this.email = '';\n    this.password = '';\n  }\n  login() {\n    if (!this.email || !this.password) {\n      alert('Please provide all the required details.');\n      return;\n    }\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n    const headers = new HttpHeaders({\n      'Content-Type': 'application/json'\n    });\n    this.http.post('https://8081-eaeeecbfecacfcdbccbacbfccbbebfcae.project.examly.io/restaurantsLogin', loginData, {\n      headers,\n      observe: 'response'\n    }).subscribe(response => {\n      if (response.body?.message === 'Restaurants Login successful') {\n        // Login successful, store the email in localStorage\n        localStorage.setItem('restaurantEmail', this.email);\n        this.authService.setAuthenticated(true, 'restaurant'); // Set the user type as 'restaurant'\n        this.router.navigate(['/restaurantdashboard']);\n      }\n    }, error => {\n      if (error.status === 401) {\n        // Show an alert for invalid credentials\n        alert('Invalid credentials. Please try again.');\n      } else {\n        console.log(error);\n      }\n    });\n  }\n}\nRestaurantloginComponent.ɵfac = function RestaurantloginComponent_Factory(t) {\n  return new (t || RestaurantloginComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService));\n};\nRestaurantloginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RestaurantloginComponent,\n  selectors: [[\"app-restaurantlogin\"]],\n  decls: 24,\n  vars: 4,\n  consts: [[\"rel\", \"stylesheet\", \"href\", \"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css\"], [1, \"body\"], [1, \"container\"], [1, \"wrapper\"], [1, \"title\"], [3, \"ngSubmit\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"placeholder\", \"name@example.com\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [1, \"fas\", \"fa-user\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"name@example.com\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fas\", \"fa-lock\"], [\"type\", \"submit\", \"id\", \"login\", \"value\", \"Login\"], [1, \"signup-link\"], [3, \"routerLink\"]],\n  template: function RestaurantloginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"link\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"span\");\n      i0.ɵɵtext(6, \"Restaurant Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function RestaurantloginComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantloginComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"label\", 8);\n      i0.ɵɵelement(11, \"i\", 9);\n      i0.ɵɵtext(12, \" Email address\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"div\", 6)(14, \"input\", 10);\n      i0.ɵɵlistener(\"ngModelChange\", function RestaurantloginComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"label\", 8);\n      i0.ɵɵelement(16, \"i\", 11);\n      i0.ɵɵtext(17, \" Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\");\n      i0.ɵɵelement(19, \"input\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"div\", 13);\n      i0.ɵɵtext(21, \"Not a member? \");\n      i0.ɵɵelementStart(22, \"a\", 14);\n      i0.ɵɵtext(23, \"Signup now\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n    }\n  },\n  dependencies: [i2.RouterLink, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  max-width: 640px;\\n  padding: 0 20px;\\n  margin: 20vh auto;\\n\\n}\\n\\n@media (max-width: 768px) {\\n  .container[_ngcontent-%COMP%] {\\n    margin: 20vh auto;\\n  }\\n}\\n\\n@media (max-width: 1000px) {\\n  .container[_ngcontent-%COMP%] {\\n    max-width: 80%;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVzdGF1cmFudGxvZ2luL3Jlc3RhdXJhbnRsb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQTtFQUNFLGdCQUFnQjtFQUNoQixlQUFlO0VBQ2YsaUJBQWlCOztBQUVuQjs7QUFFQTtFQUNFO0lBQ0UsaUJBQWlCO0VBQ25CO0FBQ0Y7O0FBRUE7RUFDRTtJQUNFLGNBQWM7RUFDaEI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIlxuLmNvbnRhaW5lciB7XG4gIG1heC13aWR0aDogNjQwcHg7XG4gIHBhZGRpbmc6IDAgMjBweDtcbiAgbWFyZ2luOiAyMHZoIGF1dG87XG5cbn1cblxuQG1lZGlhIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC5jb250YWluZXIge1xuICAgIG1hcmdpbjogMjB2aCBhdXRvO1xuICB9XG59XG5cbkBtZWRpYSAobWF4LXdpZHRoOiAxMDAwcHgpIHtcbiAgLmNvbnRhaW5lciB7XG4gICAgbWF4LXdpZHRoOiA4MCU7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["HttpHeaders","RestaurantloginComponent","constructor","http","router","authService","email","password","login","alert","loginData","headers","post","observe","subscribe","response","body","message","localStorage","setItem","setAuthenticated","navigate","error","status","console","log","i0","ɵɵdirectiveInject","i1","HttpClient","i2","Router","i3","AuthService","selectors","decls","vars","consts","template","RestaurantloginComponent_Template","rf","ctx","ɵɵelement","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","RestaurantloginComponent_Template_form_ngSubmit_7_listener","RestaurantloginComponent_Template_input_ngModelChange_9_listener","$event","RestaurantloginComponent_Template_input_ngModelChange_14_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction0","_c0"],"sources":["/home/coder/project/workspace/foodapp_frontend/src/app/restaurantlogin/restaurantlogin.component.ts","/home/coder/project/workspace/foodapp_frontend/src/app/restaurantlogin/restaurantlogin.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { AuthService } from '../auth.service';\n\n@Component({\n  selector: 'app-restaurantlogin',\n  templateUrl: './restaurantlogin.component.html',\n  styleUrls: ['./restaurantlogin.component.css']\n})\nexport class RestaurantloginComponent {\n\n  email = '';\n  password = '';\n\n  constructor(private http: HttpClient, private router: Router, private authService: AuthService) { }\n\n  login(): void {\n    if (!this.email || !this.password) {\n      alert('Please provide all the required details.');\n      return;\n    }\n\n    const loginData = {\n      email: this.email,\n      password: this.password\n    };\n    const headers = new HttpHeaders({ 'Content-Type': 'application/json' });\n\n    this.http.post<any>('https://8081-eaeeecbfecacfcdbccbacbfccbbebfcae.project.examly.io/restaurantsLogin', loginData, { headers, observe: 'response' }).subscribe(\n      (response) => {\n        if (response.body?.message === 'Restaurants Login successful') {\n          // Login successful, store the email in localStorage\n          localStorage.setItem('restaurantEmail', this.email);\n          this.authService.setAuthenticated(true, 'restaurant'); // Set the user type as 'restaurant'\n          this.router.navigate(['/restaurantdashboard']);\n        }\n      },\n      (error: HttpErrorResponse) => {\n        if (error.status === 401) {\n          // Show an alert for invalid credentials\n          alert('Invalid credentials. Please try again.');\n        } else {\n          console.log(error);\n        }\n      }\n    );\n  }\n}\n","    \n<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css\"/>\n<div class=\"body\">\n<div class=\"container\">\n<div class=\"wrapper\">\n  <div class=\"title\"><span>Restaurant Login</span></div>\n\n  <form (ngSubmit)=\"login()\">\n    \n    <div class=\"form-floating mb-3\">\n      <input type=\"email\" class=\"form-control\" id=\"email\" name=\"email\" placeholder=\"name@example.com\" [(ngModel)]=\"email\">\n      <label for=\"floatingInput\"> <i class=\"fas fa-user\"></i>  Email address</label>\n    </div>\n\n    <div class=\"form-floating mb-3\">\n      <input type=\"password\" class=\"form-control\" id=\"password\" name=\"password\" placeholder=\"name@example.com\" [(ngModel)]=\"password\">\n      <label for=\"floatingInput\"> <i class=\"fas fa-lock\"></i> Password</label>\n    </div>\n\n    <div>\n      <input type=\"submit\" id=\"login\" value=\"Login\">\n    </div>\n    <div class=\"signup-link\">Not a member? <a [routerLink]=\"['/restaurantsignup']\">Signup now</a></div>\n  </form>\n</div>\n</div>\n</div>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}